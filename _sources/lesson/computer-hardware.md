# Типы компьютеров

Не существует универсального компьютера, который решал все возможные задачи одинаково хорошо.

Существует огромное разнообразие компьютеров.
Они отличаются от видов решаемых задач и свойств, которые требуются от компьютера:
* производительность;
* отказоустойчивость;
* размеры;
* стоимость;
* сложность программирования.

## Персональный компьютер

% Описание
Компьютер, которым пользуется только один человек для решения повседневных задач, называется *персональным*.
Такой компьютер доступен по цене и имеет малый размер.
Его пользователь не обладает специальными техническими знаниями.
Поэтому на компьютер установлена операционная система с графическим интерфейсом.

```{figure} ../_images/personal-computer.png
:height: 300
Типичный настольный персональный компьютер
```

% Действия на персональном компьютере
Компьютер применяют для решения бытовых и офисных задач:
* выход в интернет;
* просмотр фильмов и фотографий;
* составление текстовых документов;

% Почему появился персональный компьютер
Появление общедоступного персонального компьютера связано с трендом миниатюризации и удешевления компьютеров.
Это стало возможным благодаря двум важным причинам:
1) появление интегральных микросхем;
2) графический интерфейс пользователя;
3) открытая архитектура персонального компьютера.

% Интегральные микросхемы и микропроцессор
Технология изготовления интегральных схем позволила разместить крупные блоки компьютера в небольшого размера микросхемы.
Это разрешило две большие проблемы изготовления и обслуживания компьютеров -- это удешевление производства и повышение надежности.

% Графический интерфейс пользователя
Компьютер представляет сложное устройство, для управления которым необходимо знать его внутреннее устройство.
Первыми пользователями компьютеров стали их изобретатели.
Математики и инженеры.
Но большинство людей не обладают специальными знаниями.
Превратить компьютер в домашний инструмент позволил графический интерфейс.

% IBM-PC-совместимый копьютер
В 1981 году компания IBM выпустила на рынок компьютер IBM 5150.
Из-за малого бюджета он был спроектирован таким образом, что по максимуму использовать готовые компоненты.
Его внутреннее устройство было опубликовано в техническом руководстве.
Открытая архитектура и модульная структура.
Интерфейсы между модулями были стандартизированы.
На разработку дополнительных модулей подключились независимые компании.
Из-за высокой конкуренции стоимость компьютера снизилась.
Пользователи предпочитали этот компьютер, не привязывая себя.
IBM-PC совместимые компьютеры захватили мир.

% Основа для персонального компьютера
Составные части персонального компьютера разрабатывают независимые производители.
Это стало возможным за счет стандартизации межмодульных интерфейсов.
* Форм-фактор ATX
* SATA
* x86-совместимые процессоры.
Операционная система Windows.
Wintel (Windows + Intel) Операционная система Windows и процессор от Intel.

% Мобильные компьютеры
Дальнейшая миниатюризация.
Подключение к интернету.
Заряжаемый аккумулятор.

% Ноутбуки
Аккумулятор и зарядное устройство.
Составляющие части уменьшенного размера (жесткий диск, планки оперативной памяти)
Компактная клавиатура.
Встроенные веб-камера, динамики и микрофон, wi-fi адаптер.
Интерфейсные разъемы для подключения внешних устройств.

% Нетбуки


% Планшет

% Смартфон

% Носимые устройства
электронные книги.
Централизованная установка программ.
Наручные часы, очки, фитнес-трекер, смарт-кольцо.

% Очки Google Glass
% Умные часы Xiaomi Mi Watch Lite
% Фитнес-браслет SUNWIND SB10
% Смарт-кольцо balance4life

```{image} ../_images/google-glass.jpg
:height: 150
```
```{image} ../_images/smart-clock.webp
:height: 150
```
```{image} ../_images/fitness-braslet.jpg
:height: 150
```
```{image} ../_images/smart-ring.webp
:height: 150
```

## Рабочая станция

% Описание
*Рабочей станцией* называется настольный компьютер, ориентированный на решение специализированных и ресурсоемких задач.
Такой компьютер спроектирован под специальное приложение, используемое для решения конкретных сложных задач.
Его в своей работе используют программисты, конструктора, дизайнеры, мультипликаторы, видеомонтажеры, фотографы, физики и математики.

% Удобный инструмент для специалиста
Высокая производительность рабочей станции позволяет работать приложению без подтормаживаний и зависаний.
Пользователю приложения уйти с головою в свою работу, не отвлекаться и быстрее получать результат.
Такие задачи решают высокооплачиваемые специалисты, а бюджет на все решение задачи ограничен.

% Решаемые рабочей станцией задачи
Задачи, которая она решает:
* Обработка изображений и видео.
  Для дизайнеров, видеомонтажеров, мультипликаторов, фотографов; специализированные видеокарты и большой объем оперативной памяти.
* Проектирование промышленных изделий.
  Системы автоматизированного проектирования (САПР) как Компас-3D, SolidWorks, Autodesk Inventor, CATIA, NX, PTC Creo используют в разработке автомобилей, летательных аппаратов, плавучих судов, строительных сооружений.
  САПР решает задачи численной оптимизации и визуализации.
* Вычислительное моделирование физических процессов.
  Выделяется особый класс задач из этой области, требующий больших ресурсов для решения.
  Это задачи динамики жидкостей и газов и их взаимодействие с твердыми телами.
  Для их решения используют такие известные продукты ANSYS как Fluent и CFX, STAR-CCM+ от Siemens.
  Их решение связано поиском решения системы линейных алгебарических уравнений, состоящей из миллионов элементов.
  Многопроцессорная система с большим объемом дисковой и оперативной памяти.
* Разработка программного обеспечения.
  Проект программы состоит из многих тысяч файлов исходного кода объемом сотни мегабайт.
  Полная сборка такого проекта требует нескольких часов ожидания.
  Но чаще программист последовательно вносит небольшие изменения, а система сборки затрагивает только измененные файлы, уменьшая таким образом время.
  Но и это время может занять минуты, что невольно отвлекает программиста на другие задачи.
  Многоядерный процессор с высокой пропускной способностью дисковой памяти.

% Аппаратное обеспечение рабочей станции
Рабочая станция обладает более производительными и, соответственно, дорогими аппаратными средствами.
Такое оборудование избыточно для повседневных или офисных задач, на которые заточен персональный компьютер общего пользования.
Это многоядерные процессоры Intel Xeon или Intel Core i9.
Многопроцессорная система.
Большой объем оперативной памяти.
Диск высокой пропускной способностью, SSD.
Сетевая карта с высокой пропускной способностью, профессиональная видеокарта.
Повышенная надежность системы за счет резервирования дисковой памяти RAID-массивом, использование оперативной памяти с коррекцией ошибок.
Дополнительное к центральному процессору специализированные устройства.
Блок питания с бесперебойным энергоснабжением.

% Оптимизация приложений к рабочей станции
Приложения, а професиональные и тем более, накладывают *минимальные системные требования* к компьютеру и ОС.
Но дополнительно они оптимизируются под определенные конфигурации аппаратного и программного обеспечения.
Обычно такие приложения не кроссплатформенны, а оптимизированы под конкретную операционную систему.
Часто это операционная система Windows.

% Переход на клиент-серверные приложения
Использование отдельно выделенного мощного настольного компьютера для приложения указывает на монолитную структуру этого приложения.
Многие специализированные приложения захватили рынок в момент появления первых настольных компьютеров.
Поэтому они разрабатывались под один компьютер и имели монолитную структуру.
Но сейчас идет тенденция разделения программы на серверную и клиентскую части, и размещение серверной части на арендованных компьютерах (в облаках).
Облачные технологии позволяют наращивать вычислительные мощности по запросу.

## Серверный компьютер

*Сервер* -- это отдельный компьютер, который предоставляет услуги без участия человека.
Кроме компьютера, под сервером подразумевается предоставляющая эту услугу программу.

% Примеры серверов
Существует огромное разнообразие серверов.
Вот некоторые из них:
* *Веб-сервер* обслуживает веб-сайты.
* *Файловый сервер* предоставляет пространство для хранения файлов.
* *Почтовый сервер* управляет рассылкой почты: принимает, передает и перенаправляет электронную корреспонденцию.
* *Сервер баз данных* занимается обслуживанием базы данных: сохраненяет, ищет, вносит изменения в данные.
* *Сервер приложений* предоставляет ресурсы для выполнения прикладных программ.
* *Игровой сервер* обслуживает многопользовательскую игру.
* *Прокси-сервер* выступает посредником при доступе к ресурсу.
* *Терминальный сервер* предоставляет пользователю ресурсы для решения задач.
  Например, удаленный рабочий стол.
* *DNS-сервер* отвечает на DNS-запросы.
  Например, преобразовывает символьные имена в ip-адреса.
* *FTP-сервер* предоставляет доступ к файлам по протоколу ftp.
* *Принт-сервер* предоставляет доступ к принтеру.

Любая услуга, которую можно предоставить автоматически, может стать названием сервера: сервер расписания, сервер новостей, сервер статистики и тому подобное.

% Выделенный и невыделенный сервер
Сервер, для которого предоставлен отдельный компьютер, называется *выделенным*.
Если услуга предоставляется редко или она не требовательна к ресурсам, то не целесообразно выделять весь компьютер для организации сервера.
В таком случае на компьютере с серверной программой параллельно могут быть запущены другие программы.
Такой сервер называется *невыделенным*.

% Требование к серверу
Требования к серверу разнятся в широких пределах.
Нет ничего страшного в том, что почтовый сервер не доступен в течение часа.
Как только почтовый клиент (Microsoft Outlook, Mozilla Thunderbird) свяжется с сервером, он передаст ему электронное сообщение.
Но если не будет доступен банковский сервер баз данных со счетами, то остановится удаленное обслуживание и обслуживание в отделениях банка.
Это может привести к панике среди клиентов, нанести ущерб репутации и иметь долгосрочные последствия.
А что будет, если потерять базу с финансовыми данными?

% Надежность сервера
Надежность сервера и обрабатываемых им данных достигается аппаратными и программными способами.
Мы не будем перечислять эти способы.
От надежности сервера зависит его *доступность*.
% Уровень доступности
Уровень доступности измеряется в процентах и вычисляется по формуле:
```
(Обещанная_доступность - Простой) / Обещанная_доступность * 100%
```
Уровень доступности 99,9% (так называемый "три девятки") достигается при отказе в течение 45 минут за месяц работы или 9 часов в течение года.
Такая гарантия предоставляется, например, при виртуальном хостинге веб-сервера.

% Размещение и обслуживание серверов
Обслуживать и поддерживать сервер в рабочем состоянии очень сложное и затратное занятие.
Небольшим компаниям заниматься этим не рационально.
Но в то же время необходимы надежные, постоянно доступные по сети сервера.
Поэтому сервера арендуют у третьих лиц.
Предоставление сервера за плату называется *хостингом*.
Сервера размещают в *дата-центрах* -- специально подготовленных помещениях.

% Доступ к серверу
Для настройки и обслуживания сервера физический доступ не нужен.
Программное обеспечение настраивается и мониторится удаленно.

## Мейнфрейм

Мейнфрейм -- это универсальный, отказоустойчивый и высокопроизводительный сервер для работы с большими объемами данных.

```{figure} ../_images/mainframe-2x.webp
:height: 300
Мейнфрейм IBM z15 с двумя стойками
```

Универсальный компьютер на транзисторах стал доступен крупным коммерческим компаниям.
Банки, финансовые и страховые компании, правительственные учреждения проявили интерес к компьютерам для обработки больших объемов данных.
Это сулило экономию на персонале и ускорение внутренних процессов.
Написание и отладка программ занимали много времени и требовали финансовых затрат.
Со временем объемы обрабатывамых програмой данных увеличивались, и ресурсов первоначального компьютера просто не хватало.
Приходилось покупать более современный компьютер, который не был совместим со старым.
И под новый компьютер приходилось переписывать программы.

% Обратная совместимость
В ответ на это IBM разработала серию компьютеров.
В ее основе легла архитектура, отделенная от реализации.
В архитектуре прописывалась система команд, которая не меняется с развитием компьютеров.
Соответственно программы, написанные для старого компьютера, могли запускаться на новом.

% Масштабируемая производительность

% Отказоустойчивость, надежность
24 часа 7 дней в неделю и 365 дней в году.
Программная и аппаратная надежность.
Отказоустойчивость. Дублирование. Горячая замена компонентов. RAID-массив, память с коррекцией ошибок, резервное копирование.

<!-- Используется в электронном коммерции -- банковское дело, финансы, страхование, государственные учреждения.
Интенсивная пакетная и потоковая (оперативная транзакционная) обработка данных.
Значительные ресурсы ввода-вывода, большой объем оперативной и внешней памяти.
Использование в критически важных системах. -->

Основным и единственным производителем мейнфреймов остается IBM.
Мейнфрейм используется там, где обрабатываются большие объемы данных с гарантией их целостности и высокой производительности.
Обычно, это сфера электронной коммерции -- банки, ... .

% Отличие мейнфрейма от суперкомпьютера
В отличие от суперкомпьютера, мейнфрейм отказоустойчив и ориентирован на интенсивную работу с дисковой памятью.
Ошибка в программе для суперкомпьютера не настолько критична, ее можно запустить повторно.
На такой случай программа может сохранять свое промежуточное состояние в файл.
И при следующем запуске начинает не с начала, а с последней контрольной точки.

% Переход на распределенные компьютеры и облачные технологии
Технология мейнфреймов от IBM доминировала на рынке до 1995 года, пока не появились дешевый персональный компьютер на базе операционной системы Linux.
Производительность мейнфрейма достижима с помощью кластера, собранного из массово доступных и дешевых PC-компьютеров и объединенных Ethernet-кабелем.
Но в отличие от кластера, мейнфрейм предлагает централизованную модель обработки данных, которая намного проще в программировании, чем распределенная.

% Проблемы с переходом
Эксперты утверждали о снижении доли мейнфреймов уже в 1993 году, но предсказание не сбылось.
Мейнфреймы от IBM держат свою долю рынка.
Это связано с тем, что машины от IBM гарантируют обратную совместимость с программами, написанными даже 60-х годах прошлого века.
Разработка новой программы на современных технологиях потребует бюджета на разработку, а также не гарантирует, что она будет написана.
Даже если программа написана, ошибки в ней могут привести к простою деятельности, которая критична в электронном бизнесе.
Переход на новые программы в большинстве случаев считается авантюрой.
Поэтому решение задачи -- покупать или арендовать мейнфрейм.

Технология мейнфреймов из-за обязательной обратной совместимости, замкнутой экосистемы и недоступности для простого пользователя, оторвалась от современных технологий программирования.
Но есть и обратная проблема -- некому поддерживать старые программы.
Технологии развиваются быстро, специалисты переходят на востребованные направления.
Становится сложно найти на рынке труда специалиста, который бы отладил старую программу на языке программирования Кобол.

## Кластер

Такая мощная машина как мейнфрейм обладает многими недостатками, главные из которых являются две.
Первый недостаток состоит в том, что монолитные и централизованные системы ограничены в масштабируемости.
Производительность процессора уперлась в физические пределы скорости света и размера атомов.
Частота тактирования не превышает 3-5 ГГц, а размеры транзисторов остановились на 7 нм.
Увеличение количества процессоров на одной материнской плате также ограничивается пропускной способностью общей шины данных.
Обращение процессора к оперативной и дисковой памяти идет в порядке очереди.
И чем больше процессоров в системе, тем дольше они находятся в ожидании своей очереди, нивелируя производительность за счет их количества.
Следующий ресурс, обладающий верхним пределом, это пропускная способность к сети.
Современный Ethernet ограничен 100 Гб данных в секунду.

Второй недостаток -- это возможность выхода из строя.
Выход из строя единой централизованной системы приведет к прекращению обслуживания.
Для таких областей как банковское обслуживание, продажи билетов и продовольствия такой вариант неприемлем.
Если электронная система выйдет из строя, то заменить ее ручным управлением в современной ситуации просто не возможно.
Слишком много данных и взаимосвязей между ними.

Противоположность к централизованным системам являются децентрализованные или распределенные системы.
Распределенная система компьютеров, связанная с сетью, называется *кластером*.
Вычислительный элемент кластера называется *узлом*.
Узлы кластера обладают самостоятельностью (на каждом из них установлена ОС) и выполняют одинаковую функцию.
Выход из строя отдельного узла не влияет на работу кластера.
Для пользователя кластер выглядит как один компьютер.

Распределенность компонентов системы позволяет улучшать разные характеристики: производительность и надежность.
Большая часть суперкомпьютеров, входящих в рейтинг TOP500 относятся к кластерам.

```{figure} ../_images/Supercomputers-history.svg
```



% Проблемы кластеров


## Суперкомпьютер

% Измерение производительность суперкомпьютера


## Использованные источники

1. [The value of the mainframe today - IBM Documentation](https://www.ibm.com/docs/en/zos-basic-skills?topic=concepts-value-mainframe-today)
