
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Межпроцессное взаимодействие &#8212; Системное и прикладное ПО</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Текстовый интерфейс" href="text-based-user-interface.html" />
    <link rel="prev" title="Процессы" href="process-management.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Системное и прикладное ПО</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Введение в учебный предмет
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Введение
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="computer-in-life.html">
   Компьютер в жизни человека
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="binary-code.html">
   Двоичный код
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="computer-hardware.html">
   Типы компьютеров
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="computer-software.html">
   Программное обеспечение
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Операционная система
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="operating-system.html">
   Операционная система
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="development-tools.html">
   Инструментальные средства
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="file-system.html">
   Файловая система
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="process-management.html">
   Процессы
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Связь с программами
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Межпроцессное взаимодействие
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="text-based-user-interface.html">
   Текстовый интерфейс
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="command-line-format.html">
     Формат команд командной строки
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="graphical-user-interface.html">
   Графический интерфейс
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Разработка программ
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="software-license.html">
   Лицензирование
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="programming-languages.html">
   Языки программирования
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="software-development.html">
   Проект программы
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="software-configuration.html">
   Конфигурирование
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="software-distribution.html">
   Распространение
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="software-installation.html">
   Установка
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Практические занятия
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/create-virtual-machine.html">
   Создание виртуальной машины
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/view-edit-text.html">
   Просмотр и редактирование текста
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/file-system.html">
   Работа с файловой системой
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/help-system.html">
   Справочная система man
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/environment-variables.html">
   Работа с переменными среды
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/command-line-parse.html">
   Разбор аргументов программы
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/lesson/ipc.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   Обмен данными через файл
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   Каналы
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   Сигналы
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   Сокеты
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id6">
   Отображение файла в память
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id7">
   Разделяемая память
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id8">
   Высокоуровневые способы взаимодействия процессов
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id9">
   Использованные источники
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="id1">
<h1>Межпроцессное взаимодействие<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Каждый процесс обладает своим адресным пространством. Процесс не может обратиться в чужое пространство. При обращении к участку памяти другого процесса, процессором генерируется исключительная ситуация segmentation violation. Это дает защиту от случайного или намеренного нарушения данных одного процесса другим. Таким образом, самостоятельно процессы не обладают средствами взаимодействия друг с другом. Такое средство предоставляет только ОС.</p>
<p>Разделение программы на взаимодействующие процессы необходимо по различным причинам. Во-первых, это упрощает разработку программы за счет использования уже существующих программ. Во-вторых, уменьшается сложность программного кода за счет декомпозиции. Так, для загрузки из сети файла используют curl, для редактирования документа — существующий текстовый редактор, … . В-третьих, несколько процессов используются для увеличения производительности программы за счет разделения объема работы по нескольким физическим процессорам и распределенным компьютерам.</p>
<p>Существуют разные способы взаимодействия процессов друг с другом. Взаимодействующие процессы могут располагаться на одной машине или связанных по сети машинах. Передача данных может быть односторонней или двухсторонней. Процессы могут быть равноправными или состоять в подчинении. Способы отличаются по сложности реализации и вносимую в программу неопределенности. Но суть у всех одна — передать данные от одного процесса другому.</p>
<p>Каждый из способов имеет различную эффективность взаимодействия. Эта эффективность определяется двумя параметрами — пропускной способностью и задержкой. Пропускная способность показывает количество данных, которое может быть обработано за единицу времени. Задержка показывает время между отправкой данных и их получением.</p>
<p>В ОС UNIX межпроцессное взаимодействие развито лучше. В нее изначально закладывались идеи по разбиению сложной системы на взаимодействие небольших составляющих. Открытый код позволял экспериментировать и искать более эффективные способы взаимодействия компонент друг с другом.</p>
<p>Добавить про многопоточность.</p>
<div class="section" id="id2">
<h2>Обмен данными через файл<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Самый простой способ взаимодействия процессов — это использование общего файла. Этот способ часто используется в одноразовых программах, сценариях командного интерпретатора, при использовании внешнего текстового редактора. Например, если команде git commit не задали текстового описания фиксируемых изменений, открывается внешняя программа (обычно vi) для ввода этого описания.</p>
<p>Файлы, используемые для обмена данными и хранения промежуточных результатов, называют временными. ОС предоставляет специальные возможности для работы с ними — получение уникального имени файла, организация их хранения в отдельном каталоге, их удаление при выходе из программы. Так, в UNIX для хранения временных файлов используется каталоги /tmp, ~/tmp. Содержимое каталога удаляется после каждой загрузки ОС. Для ОС Windows каталог с временными файлами располагаются в каталогах C\Windows\Temp и C\Users\user_name\AppData\Local.</p>
<p>Обмен данными через файл подвержен трем недостаткам. Во-первых, это замусоривание диска, когда обработка неожиданно обрывается, не дойдя до места удаления файла. Во-вторых, отсутствует координация процессов. Вследствие чего могут возникнуть коллизии — чтение данных в момент их записи. В-третьих, запись данных в файл — это долгая по времени операция.</p>
</div>
<div class="section" id="id3">
<h2>Каналы<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Для взаимодействия с внешним миром программе доступны стандартные потоки ввода и вывода данных. Их предоставляет система в виде трех открытых файлов с номерами дескрипторов 0, 1 и 2. Поток под номером 0 настроен на ввод данных и по умолчанию ассоциирован с клавиатурой. Поток под номером 1 используется для вывода информационных, а номером 2 — для диагностических и отладочных данных. Они оба ассоциированы с монитором.</p>
<div class="figure align-default">
<img alt="../_images/pipe.png" src="../_images/pipe.png" />
</div>
<p>Для считывания и записи данных используются те же системные функции, что для работы с файлами. Но по сравнению с ними, потоки связаны с виртуальным файлом — системным буфером в памяти.</p>
<p>Данные со стандартных потоков могут ассоциироваться и с другими источниками, например с файлами. Если стандартный поток ввода связать с файлом, то программа считает данные из файла, вместо их ожидания от пользователя. Аналогично и вывод может быть подключен к файлу. Изменение потоков данных называется перенаправлением ввода-вывода. Перенаправление происходит на уровне ОС и не влияет на работу программы — она как и раньше считывает и записывает данные в стандартные потоки.</p>
<p>Стандартный поток вывода программы может быть перенаправлен в стандартный поток ввода другой программы. Такое соединение образует канал для односторонней передачи данных между программами.</p>
<p>Последовательное соединение двух и более программ для их совместной работы называется конвейером.</p>
<div class="figure align-default">
<img alt="../_images/pipe-2.png" src="../_images/pipe-2.png" />
</div>
<p>Конвейер из программ — это мощный инструмент пользователя UNIX. Он позволяют решать нестандартные задачи, используя для этого стандартные инструменты.</p>
<p>Недостатком каналов является их направленность в одну сторону. Невозможно передать потоки данных обратно.</p>
</div>
<div class="section" id="id4">
<h2>Сигналы<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>Сигналы используются для уведомления процесса о некотором произошедшем событии. Источником сигнала может быть ОС или другая программа. При получении сигнала процесс приостанавливает свое выполнение и выполняет специальную функцию — обработчик сигнала. В зависимости от типа сигнала, выполнение процесса может продолжиться или завершиться.</p>
<p>Сигналы можно игнорировать — не выполнять их обработку, или блокировать — отложить обработку. Некоторые сигналы не могут быть проигнорированы или обработаны пользовательской функцией. Тогда их обрабатывает ОС, а программа завершается.</p>
<p>Тип сигнала задается целым числом, которому соответствует символьное имя. Символьное имя начинается с префикса SIG.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Тип сигнала</p></th>
<th class="head"><p>Описание</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>SIGKILL</p></td>
<td><p>Немедленное завершение процесса. Сигнал не может быть обработан и проигнорирован.</p></td>
</tr>
<tr class="row-odd"><td><p>SIGINT</p></td>
<td><p>Завершение процесса пользователем из командной оболочки сочетанием клавиш Ctrl+C.</p></td>
</tr>
<tr class="row-even"><td><p>SIGTERM</p></td>
<td><p>Просьба о завершении процесса.</p></td>
</tr>
<tr class="row-odd"><td><p>SIGQUIT</p></td>
<td><p>Завершение процесса с выгрузкой памяти в файл.</p></td>
</tr>
<tr class="row-even"><td><p>SIGSTOP</p></td>
<td><p>Приостановка выполнения процесса. Не обрабатывается и не игнорируется.</p></td>
</tr>
<tr class="row-odd"><td><p>SIGTSTP</p></td>
<td><p>Приостановка выполнения процесса пользователем из командной оболочки сочетанием клавиш Ctrl+Z.</p></td>
</tr>
<tr class="row-even"><td><p>SIGCONT</p></td>
<td><p>Возобновление приостановленного процесса.</p></td>
</tr>
<tr class="row-odd"><td><p>SIGHUP</p></td>
<td><p>Потеря связи с терминалом пользователя. По умолчанию программа прерывается. В демонах используется для перечитывания файлов настроек.</p></td>
</tr>
<tr class="row-even"><td><p>SIGCHLD</p></td>
<td><p>Информация об изменении состояния дочернего процесса — завершен, приостановлен, возобновлен.</p></td>
</tr>
<tr class="row-odd"><td><p>SIGSEGV</p></td>
<td><p>Ошибка обращения к виртуальной памяти.</p></td>
</tr>
<tr class="row-even"><td><p>SIGBUS</p></td>
<td><p>Ошибка обращения к физической памяти.</p></td>
</tr>
<tr class="row-odd"><td><p>SIGFPE</p></td>
<td><p>Ошибка выполнения арифметической операции (переполнение, деление на ноль).</p></td>
</tr>
<tr class="row-even"><td><p>SIGUSR1, SIGUSR2</p></td>
<td><p>Пользовательские сигналы. Могут интерпретироваться по-разному, в зависимости от процесса.</p></td>
</tr>
</tbody>
</table>
<p>У каждого сигнала, кроме SIGUSR1 и SIGUSR2, своя роль и изменять ее не рекомендуется. Эти сигналы используются для взаимодействия ОС и командной оболочки с программой пользователя. Программе от сигнала известны только тип и номер процесса-отправителя. Отправителю не важен результат обработки, поэтому функция-обработчик ничего не возвращает.</p>
<p>Для взаимодействия пользовательских программ между собой предназначены сигналы в интервале SIGRTMIN - SIGRTMAX, которые называются сигналами реального времени. В отличие от сигналов приведенных выше, они имеют следующие свойства:</p>
<ul class="simple">
<li><p>Приоритет доставки сигналов — если обработки ждут несколько сигналов, то сигнал с меньшим номером обработается раньше.</p></li>
<li><p>Сигналы буферизируются — каждый посланный сигнал реального времени не потеряется и будет обработан.</p></li>
<li><p>Вместе с сигналом можно передать дополнительную информацию.</p></li>
</ul>
<p>Для отправки из командной оболочки сигналов процессам существует команда kill. Она в виде аргументов принимает тип сигнала и номер процесса.</p>
<p>Для работы с сигналами в стандартной библиотеке Си используются функции из заголовочного файла “signal.h”.</p>
<p>Демоны в UNIX (работающие в фоновом режиме программы) используют сигналы для взаимодействия с пользователем. Каждый запущенный демон формирует PID-файл с именем “daemon_name.pid” в каталоге “/run” или “/var/run”. Чтобы остановить демон, ему посылают сигнал TERM. На сигнал HUP демон повторно считывает настройки из файла.</p>
<p>Утилиту fetchmail используют для сбора почты из удаленных серверов. Запущенная один раз, она проверяет сервера на новую почту с некоторой задержкой, чтобы не нагружать сеть. Если пользователь запустит утилиту без аргументов еще раз, то она отправит сигнал первому процессу о внеочередной проверке серверов и завершится.</p>
<div class="figure align-default">
<img alt="../_images/fetchmail-actions.png" src="../_images/fetchmail-actions.png" />
</div>
</div>
<div class="section" id="id5">
<h2>Сокеты<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>Сокеты — это название программного интерфейса, разработанного для обмена данными между процессами как на одном компьютере, таки и между связанными через сеть компьютерами. Был разработан в 1982 году для BSD UNIX. Является основным инструментом для создания клиент-серверных приложений и функционирования сети Интернет. Сокеты стандартизированы в POSIX и доступны во всех современных ОС с небольшими отличиями.</p>
<p>Для связи с процессом используется его адрес. Существуют два типа адресации процессов — INET-адрес и UNIX-адрес. INET-адрес для TCP/IP протокола состоит из IPv4 (IPv6) адреса и номера порта. Такие адреса позволяют связываться процессам через сеть. UNIX-адрес ограничивает взаимодействие процессов внутри компьютера. При этом не используются сетевые устройства, а обмен происходит через файл.</p>
<p>В зависимости от того, является ли программа клиентом или сервером, какое семейство протоколов для связи используется, будет различаться программный код в плане вызова функций.</p>
<p>При использовании протокола TCP/IP клиент и сервер устанавливают предварительную связь и договариваются о параметрах связи. Потерявшиеся или испорченные данные при передаче по сети будут отправлены повторно. Таким образом протокол гарантирует целостность принимаемых данных.</p>
<p>При использовании протокола UDP клиент и сервер не устанавливается предварительная связь. В этом случае нет гарантий, что переданные данные доходят до клиента. Но зато быстрее, чем TCP/IP.</p>
</div>
<div class="section" id="id6">
<h2>Отображение файла в память<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>Модификация данных в файле состоит из следующих операций. Перевести указатель на нужную позицию, прочитать данные в буфер, изменить данные в буфере и записать в файл данные из буфера. Каждое обращение к файлу приводит к системному вызову ядра, переключению контекста и работы с диском. Для более быстрой работы с файлом используют его отображение на память.</p>
<p>Намного эффективнее, чем использование файла. Потому что меньше обращений к памяти.</p>
<p>Для взаимодействия процессов, они могут отобразить один и тот же файл к себе на память.</p>
</div>
<div class="section" id="id7">
<h2>Разделяемая память<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>Способ обмена данными между процессами, при котором к одному участку памяти имеют доступ несколько процессов. Это наиболее эффективный способ передачи данных. Эффективный по времени, так как не используются системные вызовы ядра и соответственно нет переключения контекста. Эффективный по памяти, так как данные содержатся в единственном экземпляре. Способ может быть использован только для взаимодействия процессов на одной машине — не подойдет для сетевого взаимодействия. Так как разделяемая память общий ресурс, то для доступа к ней необходимо использовать семафор.</p>
<p>Каждый процесс имеет свое виртуальное адресное пространство, собранное из страниц физической памяти. Отображение виртуального адреса в физический выполняется с использованием таблицы отображения адресов. Разделяемый участок физической памяти встраивается в виртуальное адресное пространство процесса. Один и тот же участок разделяемой памяти для разных процессов будет иметь разные виртуальные адреса.</p>
<p>Управление разделяемой памятью стандартизировано POSIX. Оно состоит из функций shm_open, shm_unlink, … .Более удобные средства предоставляются в библиотеках Boost (Boost.Interprocess) и Qt (QSharedMemory).</p>
</div>
<div class="section" id="id8">
<h2>Высокоуровневые способы взаимодействия процессов<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>Обмен сообщениями MPI.
Очереди сообщений (RabbitMQ, Apache ActiveMQ)
OpenMP</p>
</div>
<div class="section" id="id9">
<h2>Использованные источники<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://habr.com/ru/company/mailru/blog/495484/">Как реализованы конвейеры в UNIX</a></p></li>
<li><p><a class="reference external" href="http://xgu.ru/wiki/%D0%A1%D1%82%D0%B0%D0%BD%D0%B4%D0%B0%D1%80%D1%82%D0%BD%D1%8B%D0%B5_%D0%BF%D0%BE%D1%82%D0%BE%D0%BA%D0%B8_%D0%B2%D0%B2%D0%BE%D0%B4%D0%B0/%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0">Стандартные потоки ввода/вывода</a></p></li>
<li><p><a class="reference external" href="http://citforum.ru/programming/unix/signals/">Сигналы</a></p></li>
<li><p><a class="reference external" href="https://intuit.ru/studies/courses/47/47/lecture/1411?page=2">Лекция. Средства межпроцессного взаимодействия. Сигналы</a></p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./lesson"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="process-management.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Процессы</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="text-based-user-interface.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Текстовый интерфейс</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Лазарев В.В.<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>