
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Файловая система &#8212; Системное и прикладное ПО</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.e8f53015daec13862f6db5e763c41738.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Управление процессами" href="process-management.html" />
    <link rel="prev" title="Инструментальные средства" href="development-tools.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Системное и прикладное ПО</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Введение в учебный предмет
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Введение
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="computer-in-life.html">
   Компьютер в жизни человека
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="binary-code.html">
   Двоичный код
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="computer-hardware.html">
   Типы компьютеров
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="computer-software.html">
   Программное обеспечение
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Операционная система
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="operating-system.html">
   Операционная система
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="development-tools.html">
   Инструментальные средства
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Файловая система
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="process-management.html">
   Управление процессами
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Связь с программами
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="ipc.html">
   Межпроцессное взаимодействие
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="text-based-user-interface.html">
   Текстовый интерфейс
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="command-line-format.html">
     Формат команд командной строки
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="graphical-user-interface.html">
   Графический интерфейс
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Разработка программ
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="software-license.html">
   Лицензирование
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="programming-languages.html">
   Языки программирования
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="software-development.html">
   Проект программы
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="software-configuration.html">
   Конфигурирование
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="software-distribution.html">
   Распространение
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="software-installation.html">
   Установка
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Практические занятия
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/create-virtual-machine.html">
   Создание виртуальной машины
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/view-edit-text.html">
   Просмотр и редактирование текста
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/file-system.html">
   Работа с файловой системой
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/help-system.html">
   Справочная система man
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/environment-variables.html">
   Работа с переменными среды
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../labour/command-line-parse.html">
   Разбор аргументов программы
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Презентации
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../report/intro.html">
   Введение в учебный предмет
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../report/computer-hardware.html">
   Аппаратное обеспечение
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/lesson/file-system.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   Накопители информации
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   Общие понятия в организации данных
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unix">
   Особенности файловой системы UNIX
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   Стандарт иерархии файловой системы в UNIX
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#vfs">
   Виртуальная файловая система VFS
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fat">
   Файловая система FAT
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   Вопросы для самоконтроля
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="id1">
<h1>Файловая система<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>Компьютер для долговременного хранения данных использует внешнее устройство <strong>диск</strong>.
На нем хранится ядро операционной системы, программы и данные.</p>
<!--
Дисковая память -- ресурс.
Мультиплексирование в пространстве.
-->
<p>Дисковая память выделяется самой низкой ценой на единицу объема памяти.
В иерархии компьютерной памяти регистры, кеш, оперативная и дисковая памяти, последняя обладает самым большим объемом предлагаемой памяти и низкой ценой за единицу объема.
Если регистры предлагают сотни байт, кеш – сотни килобайты и мегабайты, оперативная память – гигабайты, то дисковая память предлагает терабайтовую память.</p>
<p>Но в противоположность большому объему и низкой цене за память, дисковая память обладает существенным недостаткой.
Доступ к памяти происходит очень долго.</p>
<p>По оценкам <span class="xref myst">IDC</span> на 2020 год в сети Интернет собрано данных на 59 зеттабайт.
1 зеттабайт примерно равен 1 млрд терабайт.
Запись данных на диск остается единственным способом сохранить большие объемы данных на длительное время.</p>
<p>Портативный диск может использоваться для передачи данных другому пользователю.
Раньше это было популярной функцией.
На дискетах, CD- и DVD-дисках, а затем флешках переносили данные: рабочие материалы, дистрибутивы программ, музыку и фильмы.
Но сейчас это выходит из употребления, потому что  повсеместно доступны высокоскоростной интернет и сервисы хранения и распространения данных.
Музыка и кино доступны не через кассеты и оптические CD- и DVD-диски как раньше, а через сервисы youtube, spotify, netflix, социальные сети, файлообменники.</p>
<!-- 40% процентов данных относятся к развлекательным. -->
<p>Программы используют дисковую память для обмена данными между собой.
Это самый простой и доступный способ взаимодействия процессов.</p>
<!--
Уметь хранить и большие и малые файлы.
Неограниченный размер имени файла и пути к файлу, уровень вложенности
Устойчивость к сбоям.
Скорость доступа к файлам.

Особенность UNIX-систем: во все, что можно записать/считать данные представлены в виде файла.
-->
<!-- 
% Представление информации в виде файлов
Носитель информации предоставляет одну большую область памяти.
Область разбита на равномерные блоки, обычно по 512 байт, называемые кластерами.
Запись и считывание данных происходит по кластерам.
Даже если понадобится считать или записать один байт, будет считан или записан весь кластер.
Такая низкоуровневая организация памяти не удобна для программ.
Вместо этого на уровне операционной системы вводится абстракция "файл".
Обращение приложением к файлу операционная система переадресует диску.
-->
<div class="section" id="id2">
<h2>Накопители информации<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>В качестве диска выступают разнообразные устройства с различным физическим устройством, интерфейсом, габаритами.
На сегодняшний день широко используют жесткие магнитные диски и полупроводниковая флеш-память.
Они отличаются надежностью, стоимостью, скоростью.</p>
<p>Накопитель на жестких магнитных дисках (НЖМД), также известный как жесткий диск, относится к наиболее популярным устройствам.
Он состоит из покрытого ферромагнетиком диска.
Магнитная головка перемещается по радиусу быстро вращающегося диска и считывает и записывает данные, используя управляемое магнитное поле.
Технология достаточно долго развивалась и достигла высоких показателей плотности информации, скорости доступа, надежности при доступной цене.
Плотность информации такова, что на 1 квадратный сантимер помещается 150 Гбит данных.
К недостаткам жесткого диска относится его шумность и выход из строя из-за механического воздействия.
Поэтому он используется только на стационарных устройствах.</p>
<p>На мобильных и малых компьютерах используют накопители информации на основе полупроводниковой флеш-памяти.
Флеш-память остается основным и единственным конкурентом жесткому диску.
По мере совершенствования полупроводниковой памяти жесткий диск постепенно выталкивается с рынка.
В 2015 году плотность данных на единицу площади во флеш-памяти превысила аналогичные показатели жесткого диска.
Флеш-память работает бесшумно, потребляет меньше электричества, и не подвержен механическим воздействиям.
Скорость записи выше 100-1000 раз по сравнению с жестким диском.
В зависимости от технологии изготовления оно составляет тысячи, десятки или сотни тысяч.
Микросхемы флеш-памяти используются в твердотельных накопителях и картах памяти.
Из-за устойчивости к механическим воздействиям, флеш-память используется в мобильных устройствах.
Но недостатком флеш-памяти является ограниченное количество циклов перезаписи.
На 2020 год, устройство на флеш-памяти стоит дороже, чем жесткий диск.
Поэтому их в одной машине используют совместно, чтобы воспользоваться преимуществами обоих.</p>
<p>Из употребления постепенно выталкиваются оптические диски.
Их заменяют флешки и сервисы по хранению данных вкупе со скоростным доступом в Интернет.
Данные, которые раньше переносили на дисках, сейчас можно найти, посмотреть, послушать онлайн без смс и в хорошем качестве.
Оптические диски начали набирать популярность с 1987 года, когда персональные компьютеры стали комплектоваться приводами оптических дисков.
Наибольшую популярностью они пользовались в 1990-е и 2000-е года.
Сохранность данных оставляет желать лучшего.
Диски 20-30 летней давности постепенно распадаются на части и теряют записанную на них информацию.</p>
<p>Следующий накопитель информации, который появился в 1950 годах и используется до сих пор — это ленточный накопитель.
Он как крокодил, доживший до наших дней с эпохи динозавров.
Для записи используется тот же физический принцип, что и в жестких дисках – управляемое магнитное поле.
Но за счет большей площади поверхности и ее компактного хранения, позволяет записывать сверхбольшие объемы данных.
Высокая скорость записи и последовательного считывания, низкая стоимость, делают привлекательной накопитель для архивации и резервного копирования данных.</p>
</div>
<div class="section" id="id3">
<h2>Общие понятия в организации данных<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<!--
Количество файлов, которые нужно хранить на компьютере, велико.
Это связано с большим объемом памяти накопителей, многозадачностью ОС — каждая программа создает свои данные, декомпозиции программы на независимые части - библиотеки, конфигурационные файлы.
Чтобы упорядочить файлы на диске, они группируются по каталогам.
Файлы организуются в древовидную структуру, внутренние узлы в котором представлены каталогами, а терминальные — файлами или пустыми каталогами.
Древовидная структура превращается в ориентированный граф при использовании жесткой ссылки — файла, который входит в разные каталоги с разными именами.
-->
<!--
Внутри одного каталога не могут располагаться два файла с одинаковым именем.
Но одно и то же имя могут иметь два файла в разных каталогах.
-->
<p>Файл представляет область памяти на диске, которому дано имя.
Он состоит из последовательности упорядоченных байтов.
Количество байт в файле (размер файла) не фиксирован и может изменяться.
Файлов на диске может быть несколько.</p>
<!-- Резиновый контейнер -->
<p>То, что файлов на диске несколько, их размеры могут меняться, доступ к диску происходит только через кластеры, приводит к сложной задаче использования области памяти диска.
Память фрагментируется и становится невозможным найти неиспользуемую область достаточного размера при достаточном количестве свободной памяти.
В какой части области создать новый файл?
Что делать, если расширяемый файл залез в область другого файла?
Как оптимально хранить и малые и большие файлы?
Эти и другие задачи решают системные программисты – разработчики <em>файловых систем</em>.</p>
<p>Фактическое порядок данных в файле на диске не повторяет аналогичный порядок данных в файле.
Содержимое файла разбивается на блоки, а блоки размещаются в произвольном порядке.</p>
<p>Файлы размещаются в каталогах.
Каталоги аналогично файлам обладают именами.
Каталоги могут содержать вложенные каталоги.
В конечном счете получается древовидная структура.
На верхнем уровне располагается <strong>корневой каталог</strong>.
Корневые каталоги уникальны в системе и их именами не получится назвать ни файлы, ни другие каталоги.
В системах UNIX только один такой каталог с именем <code class="docutils literal notranslate"><span class="pre">/</span></code>.
В Windows их может быть несколько с именами <code class="docutils literal notranslate"><span class="pre">a:</span></code>, <code class="docutils literal notranslate"><span class="pre">b:</span></code>, <code class="docutils literal notranslate"><span class="pre">c:</span></code>, <code class="docutils literal notranslate"><span class="pre">d:</span></code>, …, <code class="docutils literal notranslate"><span class="pre">x:</span></code>, <code class="docutils literal notranslate"><span class="pre">y:</span></code>, <code class="docutils literal notranslate"><span class="pre">z:</span></code>.</p>
<div class="figure align-default">
<img alt="../_images/files-and-cataloges.png" src="../_images/files-and-cataloges.png" />
</div>
<p>Положение файла в иерархической структуре задается последовательностью вложенных каталогов, заканчивающаяся названием указываемого файла:
Элементы последовательности (каталоги и файл) разделяются друг от друга символом косой черты (<code class="docutils literal notranslate"><span class="pre">/</span></code>).
Но может использоваться и другой символ.
Например, в Windows раньше использовали символ обратной косой черты (<code class="docutils literal notranslate"><span class="pre">\</span></code>), но в последних версиях поддерживается и косая черта <code class="docutils literal notranslate"><span class="pre">/</span></code>.
Получившаяся строка называется <strong>путем</strong> к файлу.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span><span class="o">/</span><span class="n">ProgramFiles</span><span class="o">/</span><span class="n">Microsoft</span><span class="o">/</span><span class="n">Office</span><span class="o">/</span><span class="n">Word</span><span class="o">/</span><span class="n">word</span><span class="o">.</span><span class="n">exe</span>
</pre></div>
</div>
<p>Путь однозначно определяет положение файла, если он начинается с корневого каталога.
Такой путь называют <strong>полным</strong>.
Но у полного пути есть два недостатка.
Во-первых, из-за его подробности он удлиняется.
Чем глубже в иерархии расположен файл, тем длиннее путь к нему.
Каждый раз набирать такой путь утомительно.
Во-вторых, после перемещения каталога или файла исходный путь становится неверным.</p>
<p>Недостатки полного пути решаются в <strong>относительных путях</strong>.
В них путь к файлу указывают от <strong>текущего каталога</strong>, а не от корневого.</p>
<p>Путь к файлу похож на адрес проживания человека.
Полный адрес начинается со страны и оканчивается квартирой или домом: <code class="docutils literal notranslate"><span class="pre">Россия,</span> <span class="pre">Нижегородская</span> <span class="pre">область,</span> <span class="pre">г.</span> <span class="pre">Саров,</span> <span class="pre">ул.</span> <span class="pre">Духова,</span> <span class="pre">д.</span> <span class="pre">72,</span> <span class="pre">кв.</span> <span class="pre">19.</span></code>
Такой адрес интересен для почтовых отправлений из других стран.
При заполнении документов для государственных учреждений федерального уровня (например, налоговой или пенсионной) название страны пропускают.
Для документов муниципального уровня часто пропускают область, превращая адрес в <code class="docutils literal notranslate"><span class="pre">г.</span> <span class="pre">Саров,</span> <span class="pre">ул.</span> <span class="pre">Духова,</span> <span class="pre">д.</span> <span class="pre">72,</span> <span class="pre">кв.</span> <span class="pre">19</span></code>.
При вызове скорой пропустят город и продиктуют адрес, начиная с улицы.
У организаций из примеров выше есть своя область влияния.
Каждый раз указывать адрес этой области будет излишне.
Аналогичный феномен есть и у программ применительно к иерерхии файлов, которая называется текущим или рабочим каталогом.
Но в отличие от примера выше с адресами, текущий каталог не фиксирован и может меняться.</p>
<p>С каждой запущенной программой связан текущий каталог.
Есть путь к файлу не начинается с корневого каталога, то считается, что он начинается с текущего.
Такой путь, как уже написали выше, называется относительным.
Для получения полного пути, к относительному пути спереди добавляют путь к текущему каталогу:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">полный</span> <span class="n">путь</span> <span class="n">к</span> <span class="n">файлу</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">путь</span> <span class="n">к</span> <span class="n">текущему</span> <span class="n">каталогу</span><span class="o">&gt;</span> <span class="o">+</span> <span class="o">&lt;</span><span class="n">относительный</span> <span class="n">путь</span> <span class="n">к</span> <span class="n">файлу</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Относительный путь решает обе проблемы полного пути.
Пути к файлам и каталогам укорачиваются за счет того, что общая часть путей выносится в текущий каталог.
Относительные пути остаются верными и после перемещение текущего каталога в иерархии.
Достаточно знать полный путь к перенесенному каталогу и установить его как текущий.</p>
<p>Для относительных путей вводят специальные обозначения для указания текущего и родительского каталогов.
Текущий каталог обозначают символом точка (<code class="docutils literal notranslate"><span class="pre">.</span></code>), а родительский, т.е. каталог уровнем выше, – двумя точками (<code class="docutils literal notranslate"><span class="pre">..</span></code>).</p>
<p>Обозначение родительского каталога позволяет указывать файлы, расположенные за пределами текущего каталога.
Пусть текущий каталог указывает на каталог с проектом <code class="docutils literal notranslate"><span class="pre">lab1</span></code>.
Тогда <code class="docutils literal notranslate"><span class="pre">../lab2/main.c</span></code> указывает на файл <code class="docutils literal notranslate"><span class="pre">main.c</span></code> в соседнем с <code class="docutils literal notranslate"><span class="pre">lab1</span></code> каталоге <code class="docutils literal notranslate"><span class="pre">lab2</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">projects</span>
  <span class="o">|-</span><span class="n">lab1</span>       <span class="o">&lt;====</span> <span class="n">текущий</span> <span class="n">каталог</span>
  <span class="o">|</span>  <span class="o">|-</span><span class="n">main</span><span class="o">.</span><span class="n">c</span>
  <span class="o">|</span>  <span class="o">|-</span><span class="n">task</span><span class="o">.</span><span class="n">html</span>
  <span class="o">|-</span><span class="n">lab2</span>
  <span class="o">|</span>  <span class="o">|-</span><span class="n">main</span><span class="o">.</span><span class="n">c</span>  <span class="o">&lt;====</span> <span class="o">../</span><span class="n">lab2</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="n">c</span>
  <span class="o">|</span>  <span class="o">|-</span><span class="n">out</span><span class="o">.</span><span class="n">txt</span>
  <span class="o">|-</span><span class="n">lab3</span>       <span class="o">&lt;====</span> <span class="o">../</span><span class="n">lab3</span><span class="o">/</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Возникает вопрос: когда в путях используют явное обозначение <code class="docutils literal notranslate"><span class="pre">.</span></code> текущего каталога?
Понятно, если путь указывается не с корневого каталога, то он считается относительным.
Имена корневых каталогов уникальны в системе, поэтому не получится спутать относительные и полные пути.
Но в некоторых случаях необходимо задать полное имя к файлу.
Проще это сделать, используя синоним текущего каталога <code class="docutils literal notranslate"><span class="pre">.</span></code>, чем набивать полный путь: <code class="docutils literal notranslate"><span class="pre">./myfile</span></code> эквивалентна <code class="docutils literal notranslate"><span class="pre">/home/skt/myfile</span></code> при текущем каталоге <code class="docutils literal notranslate"><span class="pre">/home/skt</span></code>.</p>
<div class="admonition- admonition">
<p class="admonition-title">Пример с указанием полного пути</p>
<p>Интерпретатор bash запускает системные утилиты по имени.
Полные пути к запускаемым файлам формируются не из текущего каталога и имени утилиты, а из каталогов, указанных в переменной среды <code class="docutils literal notranslate"><span class="pre">PATH</span></code>.
Если вам понадобится запустить собственную программу <code class="docutils literal notranslate"><span class="pre">myutility</span></code> из текущего каталога, то это можно сделать только командой <code class="docutils literal notranslate"><span class="pre">./myutility</span></code>.</p>
</div>
<p>Кроме данных файл содержит информацию о себе.
Время создания, последнего изменения, последнего доступа.
Это атрибуты:</p>
<ul class="simple">
<li><p>только для чтения</p></li>
<li><p>системный</p></li>
<li><p>скрытый</p></li>
<li><p>архивный</p></li>
</ul>
<!-- Имя файла
Элемент каталога
Метаданные файла
Суперблок
Операции над файлами: создать, удалить, записать, считать. -->
<p>Представьте себе, что у вас есть непрерывная область памяти фиксированного размера.
Каким образом вы разместите на ней файлы с их данными, именами и атрибутами?
Как представите каталоги и вложенности файлов и каталогов в другие каталоги?</p>
<p>Усложним задачу, добавив, что иерархическая структура вложенностей каталогов в файлы не статична, а меняется со временем.
Размеры файлов также меняются: увеличиваются или уменьшаются.</p>
<p>Наша задача похожа на стандартную задачу проектирования структур данных моделируемого объекта, которая естественна для программиста.
Она решается средствами высокоуровневого языка программирования в терминах типов данных, указателей, записей, массивов, таблиц, списков и остального.
Но есть отличия.
Во-первых, нам не доступен менеджер памяти, который бы выделял блоки произвольного размера и решал задачу их размещения в памяти.
Во-вторых, исходная область памяти адресуется не по байтам, а по блокам – наборами из 512 (или другого размера) байтов.
В-третьих, блоки, из которых состоит память, могут выходить из строя и уже не смогут хранить данные.
И было бы правильно их обходить.</p>
<p>Задачи выше и многое остальное решает <strong>файловая система</strong>.</p>
<!--
Нет гарантии, что при записи произойдет сбой.
При этом структура в памяти должна быть всегда целостной или, в худшем случае, быть восстанавливаемой.
-->
</div>
<div class="section" id="unix">
<h2>Особенности файловой системы UNIX<a class="headerlink" href="#unix" title="Permalink to this headline">¶</a></h2>
<p>В файловой системе существуют специальные файлы, которые вместо того, чтобы содержать данные, указывают на другие файлы.
Такие файлы называют <em>ссылками</em>.
Имя ссылки может отличаться от имени файла, на который она ссылается.
Таким образом ссылки вводят другое имя файлу.
Ссылка может разместиться в другом каталоге.
Существуют два типа ссылок: символьные и жесткие.</p>
<p>Жесткая ссылка указывает на содержимое файла, изменяя только ее имя.</p>
<p>Символьная ссылка указывает на имя другого файла, называемого целевым.
Обращение к ней перенаправляется к целевому файлу.
В отличие от жесткой ссылки, она может ссылаться на каталоги, несуществующие файлы, файлы и каталоги из другой файловой системы.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Мягкие и жесткие ссылки вносят в древовидную структуру файловой системы горизонтальные связи и преобразуют ее в сетевую структуру.</p>
</div>
<p>Рассмотрим примеры, когда ссылки помогают решить проблемы, возникающие в программировании.</p>
<p>Если файл или каталог по каким-то причинам имеет неудобное имя или расположение, а размер не позволяет их скопировать, то нужно воспользоваться ссылкой.
Ссылка позволит разместить файл в нужном месте и нужным именем.</p>
<p>Для сборки программ могут потребоваться конкретные файлы и каталоги, которые были зашиты в сборочных файлах, вместо того, чтобы быть вынесенными как входные параметры.
Такое происходит, когда разработчик развивал программу в своем специфическом программном окружении.
При передаче программы другому разработчику, ему также придется настроить аналогичное окружение.
Для настройки окружения он может использовать символьные ссылки на файлы и каталоги.</p>
<p>Символьные ссылки используют в процессе обновления программ.
Программы проектируются таким образом, чтобы использовать функции из разделяемых библиотек.
Со временем в разделяемые библиотеки вносят изменения: исправляют ошибки, улучшают существующие или добавляют новые функции.
Изменения программного кода отображаются в номерах версии, которая состоит из трех чисел, разделенных точкой.
В имени файла с библиотекой прописана ее версия.
Если библиотека обновляется, в том же каталоге появляется файл с другой версией в названии.
И то, какая библиотека является текущей, показывает символическая ссылка.
Программа, которой необходима разделяемая библиотека, загружает ее по символической ссылке.</p>
</div>
<div class="section" id="id4">
<h2>Стандарт иерархии файловой системы в UNIX<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>В системах UNIX состав каталогов верхнего уровня и их назначение закреплены стандартом FHS (Filesystem Hierarchy Standard).
Поддержка стандарта добровольное желание
Последний раз документ обновлен в 2015 году и имеет версию 3.0.
Содержимое стандарта можно просмотреть командами <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">hier</span></code> и <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">file-hierarchy</span></code>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/bin</span></code>
Основные утилиты, необходимые для работы всем пользователям (обычным и суперпользователю).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/sbin</span></code>
Системные утилиты для администрирования системы.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/lib</span></code>
Программные библиотеки, необходимы для программ из <code class="docutils literal notranslate"><span class="pre">/bin</span></code>, <code class="docutils literal notranslate"><span class="pre">/sbin</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/etc</span></code>
Конфигурационные файлы, относящиеся к системе.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/home</span></code>
Домашние каталоги пользователей системы.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/root</span></code>
Домашний каталог суперпользователя.
Каталог <code class="docutils literal notranslate"><span class="pre">/home</span></code> может быть примонтированным и физически располагаться на другом диске.
Если диск выйдет из строя, то суперпользователь не сможет обслуживать машину.
В целях устойчивости системы, домашний каталог суперпользователя размещают ближе к системе – в корневой каталог.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/boot</span></code>
Файлы для загрузки операционной системы.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/dev</span></code>
Файлы устройств.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/media</span></code>
Точки монтирования для сменных носителей CD-ROM, DVD-ROM.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/mnt</span></code>
Временно монтируемые файловые системы.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/opt</span></code>
Дополнительное программное обеспечение.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/proc</span></code>
Виртуальная файловая система с информацией о состоянии операционной системы и процессов в виде файлов.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/run</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/srv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/sys</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/tmp</span></code>
Временные файлы.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/var</span></code>
Изменяемые файлы.
В отличие от временных файлов из <code class="docutils literal notranslate"><span class="pre">/tmp</span></code> файлы в <code class="docutils literal notranslate"><span class="pre">/var</span></code> остаются после перезагрузки системы.</p></li>
</ul>
</div>
<div class="section" id="vfs">
<h2>Виртуальная файловая система VFS<a class="headerlink" href="#vfs" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="fat">
<h2>Файловая система FAT<a class="headerlink" href="#fat" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="id5">
<h2>Вопросы для самоконтроля<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Создайте замкнутую цепочку из символьных ссылоку.</p></li>
</ol>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./lesson"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="development-tools.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Инструментальные средства</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="process-management.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Управление процессами</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Лазарев В.В.<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>